(function(a,l){a.fn.scrollLoading=function(k){function c(){$wrapp.height();var g=f?$wrapp.scrollTop():$wrapp.offset().top;b.each(function(){var d,b=a(this).data("next")||0;d=$wrapp.height()+g;var c=f?a(document).height()-e.range:$wrapp.children().last().offset().top+$wrapp.children().last().outerHeight(!0)-e.range;d=0===h?c<d:c<d&&g>h;h=g;d&&a.isFunction(e.callback)&&b<e.maxNum&&e.callback.call(this,b)})}var e=a.extend({range:200,maxNum:20,callback:a.noop},k||{}),b=a(this),h=0,f=""===a.trim(b.selector)&&
0!==b.length;$wrapp=f?a(window):b;c();$wrapp.bind("scroll.loadmore",function(){setTimeout(c,100)});return this}})(jQuery);
